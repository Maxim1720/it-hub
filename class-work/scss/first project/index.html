<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scss project</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body class>

    <div class="bg" style="width: 100px; height: 100px; margin-bottom: 10px;">
    </div>

    <nav>
        <ul>
            <li>Бананчик</li>
            <li>Яблоко</li>
            <li>Груша</li>
        </ul>
    </nav>

    <div class="bg block-1">
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nemo consequatur dolores ex fugit assumenda similique harum officiis itaque, voluptas sequi, obcaecati aliquam corrupti adipisci illum ut vero rem quos voluptate minus dignissimos debitis a eveniet. Natus expedita eos repellat debitis cupiditate sit, sapiente a tenetur quaerat fuga reiciendis consectetur dolorum!
    </div>
    <div class=" bg block-2"></div>
    <div class=" bg block-3"></div>

    <nav class="menu">
        <ul class="menu-list">
            <li class="menu-list_li"><a href="#">BMW</a></li>
            <li class="menu-list_li"><a href="#">MERCEDES</a></li>
            <li class="menu-list_li"><a href="#">KIA</a></li>
            <li class="menu-list_li"><a href="#">Lada</a></li>
        </ul>
    </nav>

    <script>

        function setOnHoverAction(elements, action){
            for(let i=0;i<elements.length;i++){
                elements[i].onmouseenter = ()=>action(elements[i]);
            }
        }
        function moveToLeftSideAction(element){
            let ml;
            if(element.style.marginLeft.length===0){
                ml = 0
                console.log("empty");
            }
            else
            {
                let onlyDigits = element.style.marginLeft.match('[0-9]+')[0];
                console.log("only digits " + onlyDigits);
                ml = parseInt(onlyDigits);
                console.log(ml);
            }
            element.style.marginLeft = (ml + marginStep) + "px";
            console.log(element.style.marginLeft);
        }
        
        let bgElements = document.getElementsByClassName("bg");
        setOnHoverAction(bgElements, moveToLeftSideAction);
        var colors = ["red", "blue", "green", "black"];
        let currentIndex = 0;
        var marginStep = 10;

        const changeColor = (element, color)=>{
            if(currentIndex == colors.length){
                    currentIndex = 0;
            }
            element.style.backgroundColor = color;
        }



        setInterval(
            ()=>{
                for(let i=0;i<bgElements.length;i++){
                    changeColor(bgElements[i], colors[currentIndex]);
                    bgElements[i].onmouseenter();
                }
                currentIndex++;
            }, 
        1000);

    </script>
</body>
</html>